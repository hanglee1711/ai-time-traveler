<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·∫£n ƒê·ªì L·ªãch S·ª≠ - VI·ªÜT K√ù S·ª¨</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/map.css">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <nav class="navbar">
            <a href="/" class="logo">
                <span class="logo-icon">‚è≥</span>
                <span>VI·ªÜT K√ù S·ª¨</span>
            </a>
            <ul class="nav-menu">
                <li><a href="/" class="nav-link">Trang ch·ªß</a></li>
                <li><a href="chatbot.html" class="nav-link">Chatbot</a></li>
                <li><a href="timeline.html" class="nav-link">D√≤ng th·ªùi gian</a></li>
                <li><a href="map.html" class="nav-link active">B·∫£n ƒë·ªì</a></li>
                <li><a href="game.html" class="nav-link">Tr√≤ ch∆°i</a></li>
                <li><a href="journey.html" class="nav-link">H√†nh tr√¨nh c·ªßa t√¥i</a></li>
                <li class="auth-login-btn"><a href="login.html" class="nav-link btn-gold" style="padding: 0.5rem 1.5rem;">ƒêƒÉng nh·∫≠p</a></li>
                <li class="auth-register-btn"><a href="register.html" class="nav-link" style="padding: 0.5rem 1.5rem;">ƒêƒÉng k√Ω</a></li>
                <li class="auth-user-info" style="display: none;">
                    <span class="nav-link" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem;">
                        <span class="auth-user-avatar">üë§</span>
                        <span class="auth-user-name">User</span>
                    </span>
                </li>
                <li class="auth-logout-btn" style="display: none;"><a href="#" class="nav-link btn-gold" style="padding: 0.5rem 1.5rem;">ƒêƒÉng xu·∫•t</a></li>
            </ul>
        </nav>
    </header>

    <div class="map-page-container">
        <!-- Sidebar Filter -->
        <aside class="map-sidebar">
            <!-- Search Bar -->
            <div class="map-search-container">
                <div class="search-box">
                    <span class="search-icon">üîç</span>
                    <input type="text"
                           id="map-search-input"
                           class="map-search-input"
                           placeholder="T√¨m ki·∫øm ƒë·ªãa danh, tr·∫≠n chi·∫øn...">
                    <button class="search-clear-btn" id="search-clear-btn" style="display: none;">√ó</button>
                </div>
                <div class="search-suggestions" id="search-suggestions"></div>
            </div>

            <h3 class="sidebar-title">
                <span></span>
                B·ªô L·ªçc
            </h3>

            <div class="filter-section">
                <h4 class="filter-label">Giai ƒëo·∫°n l·ªãch s·ª≠</h4>
                <div class="filter-options">
                    <label class="filter-checkbox">
                        <input type="checkbox" value="ancient" checked> Th·ªùi c·ªï ƒë·∫°i
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" value="medieval" checked> Th·ªùi trung ƒë·∫°i
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" value="modern" checked> Th·ªùi c·∫≠n ƒë·∫°i
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" value="contemporary" checked> Th·ªùi hi·ªán ƒë·∫°i
                    </label>
                </div>
            </div>

            <div class="filter-section">
                <h4 class="filter-label">Lo·∫°i ƒë·ªãa danh</h4>
                <div class="filter-options">
                    <label class="filter-checkbox">
                        <input type="checkbox" value="battlefield" checked>
                        <span class="marker-icon" style="color: #ef4444"></span>
                        Tr·∫≠n ƒë·ªãa
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" value="capital" checked>
                        <span class="marker-icon" style="color: #d4af37"></span>
                        Kinh ƒë√¥
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" value="monument" checked>
                        <span class="marker-icon" style="color: #3b82f6"></span>
                        Di t√≠ch
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" value="landmark" checked>
                        <span class="marker-icon" style="color: #10b981"></span>
                        ƒê·ªãa danh
                    </label>
                </div>
            </div>

            <button class="btn btn-gold" id="reset-filter" style="width: 100%; margin-top: 1rem;">
                ƒê·∫∑t l·∫°i b·ªô l·ªçc
            </button>

            <!-- Timeline Slider -->
            <div class="timeline-slider-section">
                <h4 class="filter-label">  D√≤ng th·ªùi gian</h4>
                <div class="timeline-slider-container">
                    <div class="timeline-track">
                        <div class="timeline-progress" id="timeline-progress"></div>
                        <input type="range"
                               id="timeline-slider"
                               class="timeline-range"
                               min="0"
                               max="100"
                               value="100">
                    </div>
                    <div class="timeline-labels">
                        <span class="timeline-label">2879 TCN</span>
                        <span class="timeline-label">938</span>
                        <span class="timeline-label">1945</span>
                        <span class="timeline-label">Hi·ªán t·∫°i</span>
                    </div>
                    <div class="timeline-current">
                        <span id="timeline-current-year">Hi·ªán t·∫°i</span>
                        <span class="timeline-count" id="timeline-count">0 ƒë·ªãa danh</span>
                    </div>
                    <button class="timeline-play-btn" id="timeline-play-btn" title="Play Timeline">
                        <span class="play-icon"></span>
                        <span class="play-text">Xem d√≤ng th·ªùi gian</span>
                    </button>
                </div>
            </div>

            <div class="map-legend">
                <h4> Ch√∫ th√≠ch</h4>
                <p><span style="color: #ef4444">‚öîÔ∏è</span> Tr·∫≠n ƒë·ªãa chi·∫øn ƒë·∫•u</p>
                <p><span style="color: #d4af37">üèõÔ∏è</span> Kinh ƒë√¥ - th·ªß ph·ªß</p>
                <p><span style="color: #3b82f6">üè∞</span> Di t√≠ch l·ªãch s·ª≠</p>
                <p><span style="color: #10b981">üìç</span> ƒê·ªãa danh quan tr·ªçng</p>
            </div>
        </aside>

        <!-- Map Container -->
        <main class="map-main">
            <div id="map" class="map-container"></div>

            <!-- Floating Control Panel -->
            <div class="floating-controls">
                <button class="control-btn" id="zoom-in-btn" title="Ph√≥ng to">
                    <span class="control-plus">+</span>
                </button>
                <button class="control-btn" id="zoom-out-btn" title="Thu nh·ªè">
                    <span class="control-minus">‚àí</span>
                </button>
                <button class="control-btn" id="reset-view-btn" title="Xem to√†n b·ªô Vi·ªát Nam">
                    <span class="control-icon">üè†</span>
                </button>
                <button class="control-btn" id="my-location-btn" title="V·ªã tr√≠ c·ªßa t√¥i">
                    <span class="control-icon">üìç</span>
                </button>
                <div class="control-divider"></div>
                <button class="control-btn" id="fullscreen-btn" title="To√†n m√†n h√¨nh">
                    <span class="control-icon">‚õ∂</span>
                </button>
                <button class="control-btn" id="layer-toggle-btn" title="ƒê·ªïi ki·ªÉu b·∫£n ƒë·ªì">
                    <span class="control-icon">üó∫Ô∏è</span>
                </button>
            </div>

            <div class="map-info">
                <p>üó∫Ô∏è <span id="marker-count">0</span> ƒë·ªãa danh l·ªãch s·ª≠ |
                   Ph√≥ng to/Thu nh·ªè b·∫±ng n√∫t +/- ho·∫∑c scroll chu·ªôt</p>
            </div>
        </main>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
    <script src="js/map.js"></script>
    <!-- Background Music Controller -->
    <script src="js/background-music.js"></script>
</body>
</html>

